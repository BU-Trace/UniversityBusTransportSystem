#!/bin/sh
# husky pre-push hook

echo "ğŸ” Checking for build errors before push..."

# Run server build
npm --prefix server run build
if [ $? -ne 0 ]; then
  echo "âŒ Server build failed. Push aborted."
  exit 1
fi

# Run client build
npm --prefix client run build
if [ $? -ne 0 ]; then
  echo "âŒ Client build failed. Push aborted."
  exit 1
fi

echo "âœ… Build succeeded. Proceeding with push."
